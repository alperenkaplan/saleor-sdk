{
  "log": {
    "_recordingName": "auth api/can login with external plugin",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "5.1.1"
    },
    "entries": [
      {
        "_id": "ccafa2d8207f13626eedd269512b56a2",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 593,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "*/*"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-length",
              "value": "593"
            },
            {
              "_fromType": "array",
              "name": "user-agent",
              "value": "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"
            },
            {
              "_fromType": "array",
              "name": "accept-encoding",
              "value": "gzip,deflate"
            },
            {
              "_fromType": "array",
              "name": "connection",
              "value": "close"
            },
            {
              "name": "host",
              "value": "master.staging.saleor.cloud"
            }
          ],
          "headersSize": 281,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"operationName\":\"externalAuthenticationUrl\",\"variables\":{\"pluginId\":\"mirumee.authentication.openidconnect\",\"input\":\"{\\\"redirectUri\\\":\\\"https://localhost:9000/login/callback/\\\"}\"},\"query\":\"fragment AccountErrorFragment on AccountError {\\n  code\\n  field\\n  message\\n  __typename\\n}\\n\\nmutation externalAuthenticationUrl($pluginId: String = \\\"mirumee.authentication.openidconnect\\\", $input: JSONString!) {\\n  externalAuthenticationUrl(pluginId: $pluginId, input: $input) {\\n    authenticationData\\n    errors {\\n      ...AccountErrorFragment\\n      __typename\\n    }\\n    __typename\\n  }\\n}\\n\"}"
          },
          "queryString": [],
          "url": "https://master.staging.saleor.cloud/graphql/"
        },
        "response": {
          "bodySize": 1090,
          "content": {
            "_isBinary": true,
            "mimeType": "application/json",
            "size": 1090,
            "text": "[\"1f8b080000000000000384536d6fda3010fe2b55a4f2a55b9bc2d4964a686ad7d151d1762b5b101b53e4d80771f09bec0b1410ff7d4750b54ea19a94c4cef33ce77bf3ad23c190459707eb089e11bc61eaaac41c0c4ace505af3c3ab8a65ffa0373ba3683dae08ebe5ea453d267c1ce5882e5c9e9c04a6c0faf708018fa13cde8ae3636ef5c98b197cf4109c3501525c3ae8702ba0c195245fa9141d6d7c32b8f8364b1e0b9c7f6aae80b9c1acdf9f2decc2b7cefbd8f020a4078e69e965a7f27ad8ba3a6c76e951963395db8084b4e338aea0a934b412a132c667b46d046ec92fbd468a23e7ed442a3802cda43ada454fe69a193685b40ce0430d0dc82693bfa8d48e54d630dc19d4f4ccb9fa213c67c680aa13425280a5c13ae35449d9d4f1a99c60ca991735468329eb7aebc5beb41c7df6a355a742ca8c4819a2975989af959489505be592fced8bdb5b51f2b789ff1cff52f55c3a27cdb44e0022e1750bf4cc0455ddd37df5073eb3e5eba8767db593899286bac63984d02010a103cbbbe5cfe193e33a29443759b241efaca7f3587cb95e3dca8b7976db2e46c3679bb51ee2c762b6b8bfb9da62860d3fcc47cd6ec86eeff25133cc7b262647a73a3b6df669937c7d4afba334b9befb5e9cb64d9a5de8d6a278e8cd4745f76cae0749fb79a9ee072e1dda062b050d09870edd361dc6d1267a771081f7d6079ac05fbfe92fad2a699886edac7e7e73be379bcd1f000000ffff030057f2d71408040000\"]"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "transfer-encoding",
              "value": "chunked"
            },
            {
              "name": "connection",
              "value": "close"
            },
            {
              "name": "server",
              "value": "CloudFront"
            },
            {
              "name": "vary",
              "value": "Accept-Encoding, Origin, Access-Control-Request-Headers, Access-Control-Request-Method"
            },
            {
              "name": "date",
              "value": "Thu, 14 Oct 2021 13:44:45 GMT"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "referrer-policy",
              "value": "same-origin"
            },
            {
              "name": "x-xss-protection",
              "value": "1"
            },
            {
              "name": "x-frame-options",
              "value": "DENY"
            },
            {
              "name": "strict-transport-security",
              "value": "max-age=31536000; includeSubDomains"
            },
            {
              "name": "content-encoding",
              "value": "gzip"
            },
            {
              "name": "x-cache",
              "value": "Miss from cloudfront"
            },
            {
              "name": "via",
              "value": "1.1 1396f0307ab4835adf6e4163507d4c8a.cloudfront.net (CloudFront)"
            },
            {
              "name": "x-amz-cf-pop",
              "value": "AMS54-C1"
            },
            {
              "name": "x-amz-cf-id",
              "value": "VPWHqvNgHhbX-5pput0tMw6A5aXr1uj6EvtilfLLzOlz-fmkvnTd9w=="
            }
          ],
          "headersSize": 624,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2021-10-14T13:44:44.610Z",
        "time": 660,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 660
        }
      },
      {
        "_id": "346c7b0fdb4bff8a00711dc90b8c6478",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 1406,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "*/*"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-length",
              "value": "1406"
            },
            {
              "_fromType": "array",
              "name": "user-agent",
              "value": "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"
            },
            {
              "_fromType": "array",
              "name": "accept-encoding",
              "value": "gzip,deflate"
            },
            {
              "_fromType": "array",
              "name": "connection",
              "value": "close"
            },
            {
              "name": "host",
              "value": "master.staging.saleor.cloud"
            }
          ],
          "headersSize": 282,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"operationName\":\"externalObtainAccessTokens\",\"variables\":{\"pluginId\":\"mirumee.authentication.openidconnect\",\"input\":\"{\\\"code\\\":\\\"Mx1h3u3YFfDVNv5iJL8lzzeHpU_lyCti\\\",\\\"state\\\":\\\"4/0AX4XfWgK2COkwLueNWzvgkGFfOp_o5FJB4KsRYG3or4lPE0o_3SIvGykNRV7CjU3-7B9sg\\\"}\"},\"query\":\"fragment AccountErrorFragment on AccountError {\\n  code\\n  field\\n  message\\n  __typename\\n}\\n\\nfragment AddressFragment on Address {\\n  id\\n  firstName\\n  lastName\\n  companyName\\n  streetAddress1\\n  streetAddress2\\n  city\\n  cityArea\\n  postalCode\\n  country {\\n    code\\n    country\\n    __typename\\n  }\\n  countryArea\\n  phone\\n  isDefaultBillingAddress\\n  isDefaultShippingAddress\\n  __typename\\n}\\n\\nfragment UserFragment on User {\\n  id\\n  email\\n  firstName\\n  lastName\\n  isStaff\\n  metadata {\\n    key\\n    value\\n    __typename\\n  }\\n  defaultShippingAddress {\\n    ...AddressFragment\\n    __typename\\n  }\\n  defaultBillingAddress {\\n    ...AddressFragment\\n    __typename\\n  }\\n  addresses {\\n    ...AddressFragment\\n    __typename\\n  }\\n  __typename\\n}\\n\\nmutation externalObtainAccessTokens($pluginId: String = \\\"mirumee.authentication.openidconnect\\\", $input: JSONString!) {\\n  externalObtainAccessTokens(pluginId: $pluginId, input: $input) {\\n    token\\n    csrfToken\\n    user {\\n      ...UserFragment\\n      __typename\\n    }\\n    errors {\\n      ...AccountErrorFragment\\n      __typename\\n    }\\n    __typename\\n  }\\n}\\n\"}"
          },
          "queryString": [],
          "url": "https://master.staging.saleor.cloud/graphql/"
        },
        "response": {
          "bodySize": 243,
          "content": {
            "mimeType": "application/json",
            "size": 243,
            "text": "{\"data\":{\"externalObtainAccessTokens\":{\"user\":null,\"errors\":[{\"code\":\"INVALID\",\"field\":\"state\",\"message\":\"Bad signature\",\"__typename\":\"AccountError\"}],\"__typename\":\"ExternalObtainAccessTokens\"}}}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "content-length",
              "value": "243"
            },
            {
              "name": "connection",
              "value": "close"
            },
            {
              "name": "server",
              "value": "CloudFront"
            },
            {
              "name": "date",
              "value": "Thu, 14 Oct 2021 13:44:45 GMT"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "referrer-policy",
              "value": "same-origin"
            },
            {
              "name": "vary",
              "value": "Origin, Access-Control-Request-Headers, Access-Control-Request-Method"
            },
            {
              "name": "x-xss-protection",
              "value": "1"
            },
            {
              "name": "x-frame-options",
              "value": "DENY"
            },
            {
              "name": "strict-transport-security",
              "value": "max-age=31536000; includeSubDomains"
            },
            {
              "name": "x-cache",
              "value": "Miss from cloudfront"
            },
            {
              "name": "via",
              "value": "1.1 4fa61644a4cc2dfcb32e66f7e29f0077.cloudfront.net (CloudFront)"
            },
            {
              "name": "x-amz-cf-pop",
              "value": "AMS54-C1"
            },
            {
              "name": "x-amz-cf-id",
              "value": "Vy02CTnGboE7-hw2K12RDikqP4nGIru6YKyHey8swg6XkfnwtJOUzw=="
            }
          ],
          "headersSize": 576,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2021-10-14T13:44:45.280Z",
        "time": 596,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 596
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
